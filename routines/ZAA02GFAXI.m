ZAA02GFAXI ;PG&A,ZAA02G-FAX,1.36,INITIALIZATION;3SEP94 10:23A;;;01FEB2005  12:26
 ;Copyright (C) 1991-1994, Patterson, Gray and Associates Inc.
 ;
INIT I $D(SILENT) S XX="I 1" G INITS
 S Y=$S('$D(ZAA02G(9)):"ZAA02G-FAX is already initialized - Do you want to procede? (Y or N)\Y\N\Please wait\This may take a minute or so",1:@ZAA02G(9)@(6))
 S %R=3,%C=1 W @ZAA02GP,ZAA02G("CS") S %R=5,%C=80-$L($P(Y,"\"))+1\2+1 W @ZAA02GP I $D(^ZAA02GFAXC(0)) W $P(Y,"\")," " R A#1 Q:A=$P(Y,"\",3)  I A'=$P(Y,"\",2) W *7," ???" H 1 G INIT
 W @ZAA02GP,ZAA02G("CS") S Y=$P(Y,"\",4,5),EV=37 D TLINE^ZAA02GFAXR
INITS S:'$D(^ZAA02GFAXC("CONFIG")) ^("CONFIG")="\\\1\1\11\8.5\2\2\30\90" S:'$D(^("DEFLTS")) ^("DEFLTS")="P\N\N\Y\A\9\3"
 S ^ZAA02GFAXC(0,2,0)="0000000000000001",^(1)=$C(0,128,178,89,1),^(2)=$C(0,8,128,0,8,128,0,8,128) X XX
 F J=0:1:255 S D="",L=J X "F K=1:1:8 S D=D_(L#2),L=L\2" S ^ZAA02GFAXC(0,3,D)=$C(J),^ZAA02GFAXC(0,4,J)=D
 X XX F J=0:1 S A=$P($T(INIT1+J),";;",2) Q:A=""  F K=1:1 S B=$P(A,";",K) Q:B=""  S ^ZAA02GFAXC(0,0,+B)=$P(B,",",2)
 X XX F J=0:1 S A=$P($T(INIT2+J),";;",2) Q:A=""  F K=1:1 S B=$P(A,";",K) Q:B=""  S ^ZAA02GFAXC(0,1,+B)=$P(B,",",2)
 X XX F I=0:1:1728 S ^ZAA02GFAXC(.1,I)=$S(I<64:"",1:^ZAA02GFAXC(0,0,I\64*64))_^ZAA02GFAXC(0,0,I#64)
 X XX S A="" F J=1:1 S A=$O(^ZAA02GFAXC(0,0,A)) Q:A=""  S ^ZAA02GFAXC(.2,^(A))=A
 X XX S A="" F J=1:1 S A=$O(^ZAA02GFAXC(0,1,A)) Q:A=""  S ^ZAA02GFAXC(.3,^(A))=A
 S D="",XL=$P($T(XL)," ",2,99),XM=$P($T(XM)," ",2,99) D ^ZAA02GFAXINA X XX D ^ZAA02GFAXIN0,^ZAA02GFAXIN5,^ZAA02GFAXIN1 X XX
 S D="00,01,10,11" F J=0:1:15 S C($C(J+65))=$P(D,",",J\4+1)_$P(D,",",J#4+1)
 S A="" F J=1:1 S A=$O(^ZAA02GFAXF(A)) Q:A=""  I $O(^(A,.3,""))]"" S ^(0)=0,B="" F J=1:1 S B=$O(^(B)) Q:B=""  I ^(B)["," S C=$P(^(B),",",2) I C?1A.E S D="" F J=1:1 S:$E(C)?1A D=D_C($E(C)),C=$E(C,2,99) I $E(C)'?1A S $P(^(B),",",2)=D_C Q
 X XX S F="" F J=1:1 S F=$O(^ZAA02GFAXF(F)) Q:F=""  I $D(^(F))=10 S B=$A(^ZAA02GFAXF(F\10*10,.1,1)),B=^ZAA02GFAXF(F\10*10,.3,B) X "S C=0 F J=1:1 S C=$O(^ZAA02GFAXF(F,.1,C)) Q:C=""""" S ^ZAA02GFAXF(F)=J-1_"`"_B
 K XX I $D(ZAA02G),$D(^ZAA02GFAXC(95,ZAA02G,4)) S XX=^(4)
 I $D(TBYTE) D ^ZAA02GFAXJ
 Q
XL F K=1:1:$L(L,"+")-1 S B=$L($P(L,"+"),","),C=$P(L,",",B),E="",$P(E,$P(C,"+",2)_",",+C)=$P(C,"+",2),$P(L,",",B)=E
XM F J=1:1 S A=$P($T(DATA+J),";;",2,99) Q:A=""  S L=$P(A,";",3) X:L["+" XL S L="L=$C("_L_")",@L,D=D_L S:A["*" ^ZAA02GFAXF(+A,$P(A,";",2)#1+.1,$P(A,";",2)\1)=D,D=""
INIT0 S X=$P($T(INIT0+1),";;",2,99) X X Q
 ;;S A="",B=" ;" ZL ZAA02GFAXU F J=1:1 S A=$O(^ZAA02GFAXC(0,1,A)) ZI:A="" B Q:A=""  S B=B_";"_A_","_^(A) I $L(B)>220 ZI B S B=" ;"
 Q
INIT1 ;;0,00110101;1,000111;2,0111;3,1000;4,1011;5,1100;6,1110;7,1111;8,10011;9,10100;10,00111;11,01000;12,001000;13,000011;14,110100;15,110101;16,101010;17,101011;18,0100111;19,0001100;20,0001000;21,0010111;22,0000011;23,0000100
 ;;24,0101000;25,0101011;26,0010011;27,0100100;28,0011000;29,00000010;30,00000011;31,00011010;32,00011011;33,00010010;34,00010011;35,00010100;36,00010101;37,00010110;38,00010111;39,00101000;40,00101001;41,00101010;42,00101011
 ;;43,00101100;44,00101101;45,00000100;46,00000101;47,00001010;48,00001011;49,01010010;50,01010011;51,01010100;52,01010101;53,00100100;54,00100101;55,01011000;56,01011001;57,01011010;58,01011011;59,01001010;60,01001011;61,00110010
 ;;62,00110011;63,00110100;64,11011;128,10010;192,010111;256,0110111;320,00110110;384,00110111;448,01100100;512,01100101;576,01101000;640,01100111;704,011001100;768,011001101;832,011010010;896,011010011;960,011010100;1024,011010101
 ;;1088,011010110;1152,011010111;1216,011011000;1280,011011001;1344,011011010;1408,011011011;1472,010011000;1536,010011001;1600,010011010;1664,011000;1728,010011011
 ;
INIT2 ;;0,0000110111;1,010;2,11;3,10;4,011;5,0011;6,0010;7,00011;8,000101;9,000100;10,0000100;11,0000101;12,0000111;13,00000100;14,00000111;15,000011000;16,0000010111;17,0000011000;18,0000001000;19,00001100111;20,00001101000;21,00001101100
 ;;22,00000110111;23,00000101000;24,00000010111;25,00000011000;26,000011001010;27,000011001011;28,000011001100;29,000011001101;30,000001101000;31,000001101001;32,000001101010;33,000001101011;34,000011010010;35,000011010011
 ;;36,000011010100;37,000011010101;38,000011010110;39,000011010111;40,000001101100;41,000001101101;42,000011011010;43,000011011011;44,000001010100;45,000001010101;46,000001010110;47,000001010111;48,000001100100;49,000001100101
 ;;50,000001010010;51,000001010011;52,000000100100;53,000000110111;54,000000111000;55,000000100111;56,000000101000;57,000001011000;58,000001011001;59,000000101011;60,000000101100;61,000001011010;62,000001100110;63,000001100111
 ;;64,0000001111;128,000011001000;192,000011001001;256,000001011011;320,000000110011;384,000000110100;448,000000110101;512,0000001101100;576,0000001101101;640,0000001001010;704,0000001001011;768,0000001001100;832,0000001001101
 ;;896,0000001110010;960,0000001110011;1024,0000001110100;1088,0000001110101;1152,0000001110110;1216,0000001110111;1280,0000001010010;1344,0000001010011;1408,0000001010100;1472,0000001010101;1536,0000001011010;1600,0000001011011
 ;;1664,0000001100100;1728,0000001100101
 ;
